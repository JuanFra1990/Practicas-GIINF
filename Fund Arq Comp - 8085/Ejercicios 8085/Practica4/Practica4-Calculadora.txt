;LIMPIAR REGISTROS
MVI A,00
OUT 00
OUT 01
OUT 02
OUT 03
OUT 04
MOV B,A
MOV C,A
MOV D,A
MOV E,A
MOV H,A
MOV L,A
;SUMA Y RESTA CON UN NUMERO
OPERANDOS: LDA DDD0
MOV B,A
LDA DDD1
MOV C,A
OPERACION: LDA DDD2
CPI 01
JZ SUMA
CPI 02
JZ RESTA
CPI 04
JZ MULTIPLICACION
CPI 08
JZ DIVISION
JNZ ERROR
SUMA: MOV A,B
ADD C
DAA
JMP RESULTADO
RESTA: MOV A,B
SUB C
DAA
JC ERROR
JNC RESULTADO
MULTIPLICACION:MVI A,00
;JMP RESULTADO
DIVISION:MOV A,B
;CMP C
;JC ERROR
;MVI H,00;COCIENTE
;CONTINUA: MOV C,L
;SUI 01
;MOV B,A
;MOV A,H
;ADI 01
;MOV H,A
;MOV A,C
;SUB L
;CMP E
;JNZ CONTINUA
;JZ RESULTADO

RESULTADO: MOV E,A
MVI L,00
CPI 09
JC COMPROBACION
MVI H,10
JNC AJUSTE

COMPROBACION: MOV E,A
MOV A,D
CPI 00
JZ CERO
CPI 01
JZ UNO
CPI 02
JZ DOS
CPI 03
JZ TRES
CPI 04
JZ CUATRO
CPI 05
JZ CINCO
CPI 06
JZ SEIS
CPI 07
JZ SIETE
CPI 08
JZ OCHO
CPI 09
JZ NUEVE
JMP ERROR
HLT

COMPROBACION1:MOV A,L
ADI 01
MOV L,A
CPI 00
JZ CERO
CPI 01
JZ UNO
CPI 02
JZ DOS
CPI 03
JZ TRES
CPI 04
JZ CUATRO
CPI 05
JZ CINCO
CPI 06
JZ SEIS
CPI 07
JZ SIETE
CPI 08
JZ OCHO
CPI 09
JZ NUEVE
JMP ERROR
HLT

AJUSTE: SUI 10
CPI 09
JC COMPROBACION
MOV A,D
ADI 01
MOV D,A
JNC AJUSTE

AJUSTE2:MOV A,L
CPI 01
JNZ COMPROBACION1
JZ FIN 

NUEVE:MVI B 07
IN 00
XRA B
OUT 00
MVI B 05
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 01
IN 03
XRA B
OUT 03
MVI B 07
IN 04
XRA B
OUT 04
JMP AJUSTE2

OCHO:MVI B 07
IN 00
XRA B
OUT 00
MVI B 05
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 05
IN 03
XRA B
OUT 03
MVI B 07
IN 04
XRA B
OUT 04
JMP AJUSTE2

SIETE:MVI B 07
IN 00
XRA B
OUT 00
MVI B 05
IN 01
XRA B
OUT 01
MVI B 05
IN 02
XRA B
OUT 02
MVI B 01
IN 03
XRA B
OUT 03
MVI B 01
IN 04
XRA B
OUT 04
JMP AJUSTE2

SEIS:MVI B 07
IN 00
XRA B
OUT 00
MVI B 04
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 05
IN 03
XRA B
DAA
OUT 03
MVI B 07
IN 04
ORA B
DAA
OUT 04
ORA B
JMP AJUSTE2

CINCO:MVI B 07
IN 00
XRA B
OUT 00
MVI B 04
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 01
IN 03
XRA B
OUT 03
MVI B 07
IN 04
XRA B
OUT 04
JMP AJUSTE2

CUATRO:MVI B 05
IN 00
XRA B
OUT 00
MVI B 05
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 01
IN 03
XRA B
OUT 03
MVI B 01
IN 04
XRA B
OUT 04
JMP AJUSTE2

TRES:MVI B 07
IN 00
XRA B
OUT 00
MVI B 01
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 01
IN 03
XRA B
OUT 03
MVI B 07
IN 04
XRA B
OUT 04
JMP AJUSTE2

DOS:MVI B 07
IN 00
XRA B
OUT 00
MVI B 01
IN 01
XRA B
OUT 01
MVI B 07
IN 02
XRA B
OUT 02
MVI B 04
IN 03
XRA B
OUT 03
MVI B 07
IN 04
XRA B
OUT 04
JMP AJUSTE2

UNO: MVI B 01
IN 00
XRA B
OUT 00
MVI B 01
IN 01
XRA B
OUT 01
MVI B 01
IN 02
XRA B
OUT 02
MVI B 01
IN 03
XRA B
OUT 03
MVI B 01
IN 04
XRA B
OUT 04
JMP AJUSTE2

CERO:MVI B 07
IN 00
XRA B
OUT 00
MVI B 05
IN 01
XRA B
OUT 01
MVI B 05
IN 02
XRA B
OUT 02
MVI B 05
IN 03
XRA B
OUT 03
MVI B 07
IN 04
XRA B
OUT 04
JMP AJUSTE2

ERROR: MVI A,0F
OUT 00
OUT 02
OUT 04
MVI A,08
OUT 01
OUT 03
HLT

FIN: HLT